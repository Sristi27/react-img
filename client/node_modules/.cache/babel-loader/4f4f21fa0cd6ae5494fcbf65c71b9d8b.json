{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"/Users/sristichowdhury/Desktop/stack-hack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sristichowdhury/Desktop/stack-hack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sristichowdhury/Desktop/stack-hack/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import logo from\"./logo.svg\";import{useState}from'react';import'./App.css';import axios from'axios';function App(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),myImg=_useState4[0],setmyImg=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),response=_useState6[0],setResponse=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),errMsg=_useState8[0],setErrMsg=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),userName=_useState10[0],setUserName=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),userImg=_useState12[0],setUserImg=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),id=_useState14[0],setID=_useState14[1];var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var formData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();formData.append('name',name);formData.append('myImg',myImg);_context.next=6;return fetch(\"http://localhost:5000/uploadForm\",{method:'POST',body:formData}).then(function(res){return res.json();}).then(function(res){setResponse(res.message);setID(res.data._id);console.log(res);setUserImg(\"http://localhost:5000/\"+res.data.image.replace(\"public/\",\"\"));setUserName(res.data.name);}).catch(function(err){return setErrMsg(err.message);});case 6:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\".png,.jpeg\",name:\"myImg\",onChange:function onChange(e){return setmyImg(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your name\",onChange:function onChange(e){return setName(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})]}),response!=''?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:response}),/*#__PURE__*/_jsx(\"h2\",{children:userName}),/*#__PURE__*/_jsx(\"img\",{src:userImg})]}):/*#__PURE__*/_jsx(\"h1\",{children:errMsg})]});}export default App;","map":{"version":3,"sources":["/Users/sristichowdhury/Desktop/stack-hack/client/src/App.js"],"names":["useState","axios","App","name","setName","myImg","setmyImg","response","setResponse","errMsg","setErrMsg","userName","setUserName","userImg","setUserImg","id","setID","handleSubmit","e","preventDefault","formData","FormData","append","fetch","method","body","then","res","json","message","data","_id","console","log","image","replace","catch","err","target","files","value"],"mappings":"umBACA,OAAQA,QAAR,KAAuB,OAAvB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,QAASC,CAAAA,GAAT,EAAe,eAEQF,QAAQ,CAAC,EAAD,CAFhB,wCAENG,IAFM,eAEDC,OAFC,8BAGUJ,QAAQ,CAAC,EAAD,CAHlB,yCAGNK,KAHM,eAGAC,QAHA,8BAIgBN,QAAQ,CAAC,EAAD,CAJxB,yCAINO,QAJM,eAIGC,WAJH,8BAKYR,QAAQ,CAAC,EAAD,CALpB,yCAKNS,MALM,eAKCC,SALD,8BAQgBV,QAAQ,CAAC,EAAD,CARxB,0CAQNW,QARM,gBAQGC,WARH,gCAScZ,QAAQ,CAAC,EAAD,CATtB,2CASNa,OATM,gBASEC,UATF,gCAUGd,QAAQ,CAAC,EAAD,CAVX,2CAUPe,EAVO,gBAUJC,KAVI,gBAWb,GAAMC,CAAAA,YAAY,0FAAG,iBAAOC,CAAP,+HAEnBA,CAAC,CAACC,cAAF,GACMC,QAHa,CAGH,GAAIC,CAAAA,QAAJ,EAHG,CAInBD,QAAQ,CAACE,MAAT,CAAgB,MAAhB,CAAuBnB,IAAvB,EACAiB,QAAQ,CAACE,MAAT,CAAgB,OAAhB,CAAwBjB,KAAxB,EALmB,sBAMbkB,CAAAA,KAAK,CAAC,kCAAD,CACX,CACEC,MAAM,CAAC,MADT,CAEEC,IAAI,CAACL,QAFP,CADW,CAAL,CAKLM,IALK,CAKA,SAAAC,GAAG,QAAEA,CAAAA,GAAG,CAACC,IAAJ,EAAF,EALH,EAMLF,IANK,CAMA,SAAAC,GAAG,CAAE,CACTnB,WAAW,CAACmB,GAAG,CAACE,OAAL,CAAX,CACAb,KAAK,CAACW,GAAG,CAACG,IAAJ,CAASC,GAAV,CAAL,CACAC,OAAO,CAACC,GAAR,CAAYN,GAAZ,EACAb,UAAU,CAAC,yBAA0Ba,GAAG,CAACG,IAAJ,CAASI,KAAT,CAAeC,OAAf,CAAuB,SAAvB,CAAkC,EAAlC,CAA3B,CAAV,CACAvB,WAAW,CAACe,GAAG,CAACG,IAAJ,CAAS3B,IAAV,CAAX,CACC,CAZG,EAaLiC,KAbK,CAaC,SAAAC,GAAG,QAAE3B,CAAAA,SAAS,CAAC2B,GAAG,CAACR,OAAL,CAAX,EAbJ,CANa,uDAAH,kBAAZZ,CAAAA,YAAY,4CAAlB,CA0BA,mBACE,oCACC,cAAM,QAAQ,CAAEA,YAAhB,CAA8B,OAAO,CAAC,qBAAtC,wBACE,cAAO,IAAI,CAAC,MAAZ,CAAmB,MAAM,CAAC,YAA1B,CAAuC,IAAI,CAAC,OAA5C,CAAoD,QAAQ,CAAE,kBAAAC,CAAC,QAAEZ,CAAAA,QAAQ,CAACY,CAAC,CAACoB,MAAF,CAASC,KAAT,CAAe,CAAf,CAAD,CAAV,EAA/D,EADF,cAEE,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAC,iBAA/B,CAAiD,QAAQ,CAAE,kBAAArB,CAAC,QAAEd,CAAAA,OAAO,CAACc,CAAC,CAACoB,MAAF,CAASE,KAAV,CAAT,EAA5D,EAFF,cAGE,eAAQ,IAAI,CAAC,QAAb,oBAHF,GADD,CAMEjC,QAAQ,EAAE,EAAV,cACD,oCACA,oBAAKA,QAAL,EADA,cAEA,oBAAKI,QAAL,EAFA,cAGA,YAAK,GAAG,CAAEE,OAAV,EAHA,GADC,cAMA,oBAAKJ,MAAL,EAZF,GADF,CAiBD,CAKD,cAAeP,CAAAA,GAAf","sourcesContent":["import logo from './logo.svg';\nimport {useState} from 'react';\nimport './App.css';\nimport axios from 'axios'\n\nfunction App() {\n\n  const [name,setName]=useState(\"\");\n  const [myImg,setmyImg]=useState(\"\");\n  const [response,setResponse]=useState(\"\");\n  const [errMsg,setErrMsg]=useState(\"\");\n\n\n  const [userName,setUserName]=useState('')\n  const [userImg,setUserImg]=useState('')\n const [id,setID]=useState('')\n  const handleSubmit = async (e) =>\n  {\n    e.preventDefault();\n    const formData= new FormData();\n    formData.append('name',name);\n    formData.append('myImg',myImg);\n    await fetch(\"http://localhost:5000/uploadForm\",\n    {\n      method:'POST',\n      body:formData\n    })\n    .then(res=>res.json())\n    .then(res=>{\n      setResponse(res.message)\n      setID(res.data._id)\n      console.log(res)\n      setUserImg(\"http://localhost:5000/\"+ res.data.image.replace(\"public/\", \"\"));\n      setUserName(res.data.name)\n      })\n    .catch(err=>setErrMsg(err.message))\n    \n    }\n    \n\n\n\n  return (\n    <div>\n     <form onSubmit={handleSubmit} encType=\"multipart/form-data\">\n       <input type=\"file\" accept=\".png,.jpeg\" name=\"myImg\" onChange={e=>setmyImg(e.target.files[0])}></input>\n       <input type=\"text\" placeholder=\"Enter your name\" onChange={e=>setName(e.target.value)}></input>\n       <button type=\"submit\">Submit</button>\n     </form>\n     {response!=''?\n     <div>\n     <h1>{response}</h1>\n     <h2>{userName}</h2>\n     <img src={userImg}/>\n     </div>\n     :<h1>{errMsg}</h1>}\n     \n    </div>\n  );\n}\n\n\n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}